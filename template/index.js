(function(n,s,c){"use strict";const{FormText:r}=c.Forms,m=s.plugin.storage;let a;try{"timeInstalled"in m?a=m.timeInstalled:a=m.timeInstalled=s.metro.common.moment()}catch(d){console.log(d)}function g(){return React.createElement(r,null,"Installed at ",a)}const o=[];var u={onLoad(){var d=this;setTimeout(function(){d.onUnload=s.patcher.before("dispatch",s.metro.common.FluxDispatcher,function(l){const e=l[0],i=e.type;if(i==="MESSAGE_CREATE")console.log("create",e.message),o[e.message.id]=e.message;else if(i==="MESSAGE_DELETE"){const t=o[e.message.id];t?(console.log(t,"deleted at",s.metro.common.moment().format("hh:mm:ss.SS")),e.message=t,t.content+=" (deleted)",o[e.message.id]=null):console.log("deleted",l)}else if(i=="MESSAGE_UPDATE"){const t=o[e.message.id];t?e.message.content=`${t.content}
${e.message.content}(edited${e.message.edited_timestamp})`:(console.log("edited at",e.message.edited_timestamp,"to",e.message),e.message.content+=` (edited${e.message.edited_timestamp})`)}return l})},1e4)},settings:g};return n.default=u,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta,vendetta.ui.components);
