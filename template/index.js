(function(o,s,l){"use strict";const{FormText:c}=l.Forms,m=s.plugin.storage;let a;"timeInstalled"in m?a=m.timeInstalled:a=m.timeInstalled=s.metro.common.moment();function r(){return React.createElement(c,null,"Installed at ",a)}const n=[];var g={onLoad(){var u=this;setTimeout(function(){u.onUnload=s.patcher.before("dispatch",s.metro.common.FluxDispatcher,function(d){const e=d[0],i=e.type;if(i==="MESSAGE_CREATE")console.log("create",e.message),n[e.message.id]=e.message;else if(i==="MESSAGE_DELETE"){const t=n[e.message.id];t?(console.log(t,"deleted at",s.metro.common.moment().format("hh:mm:ss.SS")),e.message=t,t.content+=" (deleted)",n[e.message.id]=null):console.log("deleted",d)}else if(i=="MESSAGE_UPDATE"){const t=n[e.message.id];t?e.message.content=`${t.content}
${e.message.content}(edited${e.message.edited_timestamp})`:(console.log("edited at",e.message.edited_timestamp,"to",e.message),e.message.content+=` (edited${e.message.edited_timestamp})`)}return d})},1e4)},settings:r};return o.default=g,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta,vendetta.ui.components);
