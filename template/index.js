(function(m,s,i){"use strict";const{FormText:c}=i.Forms,a=s.plugin.storage;console.log("a");let o;"timeInstalled"in a?o=a.timeInstalled:o=a.timeInstalled=s.metro.common.moment(),console.log(o);function g(){return React.createElement(c,null,"Installed at ",o)}const n=[];var r={onLoad(){var u=this;setTimeout(function(){u.onUnload=s.patcher.before("dispatch",s.metro.common.FluxDispatcher,function(l){const e=l[0],d=e.type;if(d==="MESSAGE_CREATE")console.log("create",e.message),n[e.message.id]=e.message;else if(d==="MESSAGE_DELETE"){const t=n[e.message.id];t?(console.log(t,"deleted at",s.metro.common.moment().format("hh:mm:ss.SS")),e.message=t,t.content+=" (deleted)",n[e.message.id]=null):console.log("deleted",l)}else if(d=="MESSAGE_UPDATE"){const t=n[e.message.id];t?e.message.content=`${t.content}
${e.message.content}(edited${e.message.edited_timestamp})`:(console.log("edited at",e.message.edited_timestamp,"to",e.message),e.message.content+=` (edited${e.message.edited_timestamp})`)}return l})},1e4)},settings:g};return m.default=r,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta,vendetta.ui.components);
