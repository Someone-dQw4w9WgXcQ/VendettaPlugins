(function(a,s,d){"use strict";const{FormText:c}=d.Forms,m=s.plugin.storage;let i;"timeInstalled"in m?i=m.timeInstalled:i=m.timeInstalled=s.metro.common.moment().format("DD/MM/YYYY HH:mm.ss");function r(){return React.createElement(c,null,"Installed at ",i)}const n=[];var g={onLoad(){var u=this;setTimeout(function(){u.onUnload=s.patcher.before("dispatch",s.metro.common.FluxDispatcher,function(l){const e=l[0],o=e.type;if(o==="MESSAGE_CREATE")console.log("create",e.message),n[e.message.id]=e.message;else if(o==="MESSAGE_DELETE"){const t=n[e.message.id];t?(console.log(t,"deleted at",s.metro.common.moment().format("hh:mm:ss.SS")),e.message=t,t.content+=" (deleted)",n[e.message.id]=null):console.log("deleted",l)}else if(o=="MESSAGE_UPDATE"){const t=n[e.message.id];t?e.message.content=`\`${t.content}
${e.message.content} (edited ${e.message.edited_timestamp})\``:(console.log("edited at",e.message.edited_timestamp,"to",e.message),e.message.content+=` (edited ${e.message.edited_timestamp})`)}else o.startsWith("MESSAGE")&&console.log(o);return l})},1e4)},settings:r};return a.default=g,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta,vendetta.ui.components);
